<!DOCTYPE html>
<html>
    <html lang="en"></html>
    <head>

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Alegreya:ital,wght@0,400..900;1,400..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="/styles/tokens.css">
        <link rel="stylesheet" href="/styles/page.css">
        <link rel="stylesheet" href="styles/reset.css">
        <script type="module">
            import { define, Auth} from "@calpoly/mustang";
            import { MovieList } from "/src/movies.ts";
            import  {MovieElement} from "/src/poster.ts";
            import {HeaderElement} from "/src/header.ts"

            define({
            "ryl-header": HeaderElement,
            "movie-list": MovieList,
            "mu-auth": Auth.Provider
            });
            HeaderElement.initializeOnce();
            
        </script>

        <script>
            function relayEvent(originalEvent, customEventName, detail) {
            const customEvent = new CustomEvent(customEventName, {
                bubbles: true,  
                cancelable: true, 
                detail: detail  
            });
            originalEvent.target.dispatchEvent(customEvent);
            originalEvent.stopPropagation(); 
            }

            document.body.addEventListener('dark-mode', (event) => {
               const checked = event.detail.checked;
               document.body.classList.toggle('dark-mode', !checked);
             });
        </script>

    </head>
    
        <body>
            <mu-auth provides="blazing:auth">
                <ryl-header>
                </ryl-header>
                <h1 class="page_description">
                    Watch Queue
                </h1>
                <movie-list src="movies.json">
                </movie-list>
                <footer>
                    <a href="movies.html">Select Movie Canidate</a>
                </footer>
            </mu-auth>

        </body>        
</html>