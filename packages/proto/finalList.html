<!DOCTYPE html>
<html>
    <html lang="en"></html>
    <head>

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Alegreya:ital,wght@0,400..900;1,400..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="/styles/tokens.css">
        <link rel="stylesheet" href="/styles/page.css">
        <link rel="stylesheet" href="styles/reset.css">
        <script type="module">
              import { define } from "@calpoly/mustang";
              import { MovieElement } from "/src/poster.ts";
              define({
                "movie-poster": MovieElement
                });
        </script>

        <script>
            function relayEvent(originalEvent, customEventName, detail) {
            const customEvent = new CustomEvent(customEventName, {
                bubbles: true,  
                cancelable: true, 
                detail: detail  
            });
            originalEvent.target.dispatchEvent(customEvent);
            originalEvent.stopPropagation(); 
            }

            document.body.addEventListener('dark-mode', (event) => {
               const checked = event.detail.checked;
               document.body.classList.toggle('dark-mode', !checked);
             });
        </script>

    </head>
    
    <body>
        <header>
            <p1 class="title">
                Movie Royal
            </p1>
            <nav>
                <p1>
                    jadwyer
                </p1>  
                <svg class="icon">
                    <use href="./icons/movies.svg#movie-icon1" />
                </svg>  
                <label
                onchange="relayEvent(
                  event,
                  'dark-mode',
                  {checked: event.target.checked})"
              >
                <input type="checkbox" value="1"/> Dark mode
              </label>
            </nav>
        </header>
        <h1 class="page_description">
            Watch Queue
        </h1>

        <ol class="movieList">
            <li>The dark night rises</li>
            <li><movie-poster title="shrek" linkUrl="shrek.html" img="/assets/moviePosters/shrek.jpg">

            </movie-poster></li>
            <li>American Psycho</li>
            <li>Apocalypss Now</li>
        </ol>
        <footer>
            <a href="movies.html">Select Movie Canidate</a>
        </footer>
    </body>
</html>